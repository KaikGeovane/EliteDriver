<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalhes do Aluguel - Audi R8</title>

    <!-- Fonte -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --main: #fa7104;
            --bg: #ff6600;
            --text: #060414;
            --muted: #333;
            --container: #e8e8e8;
            --radius: 12px;
            --max: 1080px;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            padding: 24px;
            font-family: "Poppins", sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
        }

        .wrap {
            width: 100%;
            max-width: var(--max);
            background: #fff;
            border-radius: var(--radius);
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
            padding: 24px;
        }

        @media (max-width:900px) {
            .wrap {
                grid-template-columns: 1fr
            }
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 14px;
        }

        .top-bar a {
            text-decoration: none;
            font-weight: 600;
            color: var(--text)
        }

        .vehicle-card {
            background: var(--container);
            padding: 16px;
            border-radius: var(--radius);
            display: flex;
            gap: 16px;
            align-items: flex-start;
            flex-wrap: wrap;
        }

        .car-3d-container {
            flex: 1 1 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .car-3d-container iframe {
            width: 100%;
            max-width: 450px;
            height: 300px;
            border: none;
            border-radius: 8px;
        }

        .vehicle-info {
            flex: 1 1 300px;
        }

        .vehicle-info h1 {
            margin: 0;
            font-size: 1.6rem;
        }

        .vehicle-meta {
            color: var(--muted);
            font-size: 0.95rem;
            margin-top: 4px;
        }

        .specs {
            margin-top: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .spec {
            padding: 8px 12px;
            background: #fff;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }

        .side {
            padding: 20px;
            background: #fff;
            border-radius: var(--radius);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
        }

        .side h3 {
            margin: 0 0 12px 0;
        }

        .price {
            font-size: 1.4rem;
            font-weight: 700;
        }

        .price small {
            color: var(--muted);
            font-weight: 400;
            font-size: 0.85rem;
        }

        .form-row {
            margin-top: 14px;
        }

        label {
            font-size: 0.9rem;
            display: block;
            margin-bottom: 6px;
            color: var(--muted);
        }

        input,
        select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 1rem;
        }

        .calc {
            margin-top: 14px;
            padding: 12px;
            border-radius: var(--radius);
            background: var(--container);
        }

        .btn {
            width: 100%;
            padding: 12px;
            font-size: 1rem;
            margin-top: 12px;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 600;
            background: var(--text);
            color: #fff;
        }

        .btn.secondary {
            background: transparent;
            color: var(--text);
            border: 1px solid #ccc;
        }

        .modal-backdrop {
            position: fixed;
            inset: 0;
            display: none;
            background: rgba(0, 0, 0, 0.45);
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .modal {
            background: #fff;
            padding: 20px;
            width: 90%;
            max-width: 380px;
            border-radius: var(--radius);
            text-align: center;
        }

        /* pequena margem pra a seção de descrição */
        section.description {
            margin-top: 20px;
        }
    </style>
</head>

<body>

    <div class="wrap">
        <!-- Conteúdo principal -->
        <div>
            <div class="top-bar">
                <a href="Esportivos.html">&lt; Voltar</a>
                <span style="color: rgb(15, 10, 4)">EliteDrivers</span>
            </div>

            <div class="vehicle-card">
                <div class="car-3d-container">
                    <!-- Substitua SEU_MODEL_ID pelo ID do sketchfab -->
                    <iframe title="2019 Audi R8 V10 Performance Quattro" frameborder="0" allowfullscreen
                        mozallowfullscreen="true" webkitallowfullscreen="true"
                        allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking
                        execution-while-out-of-viewport execution-while-not-rendered web-share
                        src="https://sketchfab.com/models/a8bac7478ad74ef885d5812f56d40715/embed?preload=1&transparent=1">
                    </iframe>
                </div>

                <div class="vehicle-info">
                    <h1 id="vehicleModel">Audi R8 V10 Performance</h1>
                    <div class="vehicle-meta" id="vehicleMeta">2022 · Gasolina · Automático S-Tronic</div>

                    <div class="specs">
                        <div class="spec">Potência: 602 cv</div>
                        <div class="spec">Motor: 5.2 V10</div>
                        <div class="spec">Tração: Quattro</div>
                        <div class="spec">Portas: 2</div>
                        <div class="spec">Cor: Azul</div>
                    </div>

                    <p style="color:var(--muted); margin-top:12px;">
                        O Audi R8 é um superesportivo com motor V10 aspirado, câmbio S-Tronic e tração quattro — mistura
                        de precisão alemã e performance pura.
                    </p>
                </div>
            </div>

            <section class="description">
                <h3>Descrição</h3>

                <!-- PRÉVIA -->
                <p id="descPreview" style="color:var(--muted); line-height:1.6;">
                    O Audi R8 entrega desempenho de supercarro com usabilidade diária — motor V10, trocas rápidas e
                    resposta imediata.
                </p>

                <!-- DESCRIÇÃO COMPLETA (ESCONDIDA) -->
                <div id="descFull" style="display:none; color:var(--muted); line-height:1.6;">
                    <br>
                    <strong>Motorização e desempenho</strong><br>
                    O R8 Performance é equipado com motor 5.2 V10 aspirado que entrega cerca de 602 cv e resposta
                    instantânea.
                    <br><br>
                    • <strong>0–100 km/h:</strong> ~3,2 segundos<br>
                    • <strong>Velocidade máxima:</strong> ~331 km/h<br>
                    • <strong>Câmbio:</strong> S-Tronic (dupla embreagem) — automático com opção de trocas manuais<br>
                    • <strong>Tração:</strong> Quattro (AWD)<br><br>

                    <strong>Dimensões e capacidades</strong><br>
                    • <strong>Comprimento:</strong> ~4426 mm<br>
                    • <strong>Largura:</strong> ~1940 mm<br>
                    • <strong>Altura:</strong> ~1246 mm<br>
                    • <strong>Porta-malas:</strong> pequeno, foco em performance<br><br>

                    <strong>Requisitos para locação</strong><br>
                    • Idade mínima: 25 anos<br>
                    • CNH válida há pelo menos 2 anos<br>
                    • Seguro premium obrigatório<br>
                    • Caução e limite de quilometragem podem ser aplicados
                </div>

                <button id="toggleDesc" class="btn secondary" style="margin-top:10px;">Ver mais</button>
            </section>

        </div>

        <!-- Lateral -->
        <aside class="side">
            <h3>Reserva rápida</h3>
            <div class="price" id="priceDisplay">R$ 4.500 <small>/dia</small></div>

            <form id="rentalForm">
                <div class="form-row">
                    <label for="startDate">Início</label>
                    <input type="date" id="startDate" required />
                </div>

                <div class="form-row">
                    <label for="endDate">Retorno</label>
                    <input type="date" id="endDate" required />
                </div>

                <div class="form-row">
                    <label for="name">Nome completo</label>
                    <input type="text" id="name" placeholder="Seu nome" required />
                </div>

                <div class="form-row">
                    <label for="phone">Telefone</label>
                    <input type="tel" id="phone" placeholder="(31) 9xxxx-xxxx" required />
                </div>

                <div class="calc">
                    Dias: <strong id="daysCount">0</strong><br>
                    Subtotal: <strong id="subtotal">R$ 0</strong><br>
                    Seguro: <strong id="insurance">R$ 0</strong><br>
                    <div style="margin-top:8px; font-size:1.1rem;">
                        Total: <strong id="total">R$ 0</strong>
                    </div>
                </div>

                <button type="button" class="btn" id="payBtn">Pagar agora</button>
                <button type="button" class="btn secondary" id="reserveBtn">Reservar e pagar na loja</button>
            </form>
        </aside>
    </div>

    <div class="modal-backdrop" id="modalBackdrop">
        <div class="modal">
            <h4>Pagamento</h4>
            <p id="modalMsg">Processando pagamento...</p>
            <button class="btn" id="modalOk">OK</button>
        </div>
    </div>

    <script>
        (function () {
            const pricePerDay = 4500;
            const startEl = document.getElementById('startDate');
            const endEl = document.getElementById('endDate');
            const daysEl = document.getElementById('daysCount');
            const subEl = document.getElementById('subtotal');
            const insEl = document.getElementById('insurance');
            const totEl = document.getElementById('total');
            const priceDisplay = document.getElementById('priceDisplay');
            const payBtn = document.getElementById('payBtn');
            const reserveBtn = document.getElementById('reserveBtn');
            const modalBackdrop = document.getElementById('modalBackdrop');
            const modalMsg = document.getElementById('modalMsg');
            const modalOk = document.getElementById('modalOk');

            if (priceDisplay) priceDisplay.innerHTML = `R$ ${pricePerDay.toLocaleString('pt-BR')} <small>/dia</small>`;

            function toDateFromInput(s) {
                if (!s) return null;
                const parts = s.split('-').map(Number);
                if (parts.length !== 3) return null;
                return new Date(Date.UTC(parts[0], parts[1] - 1, parts[2]));
            }
            function daysBetween(a, b) {
                if (!a || !b) return 0;
                const msPerDay = 24 * 60 * 60 * 1000;
                return Math.max(0, Math.round((b - a) / msPerDay));
            }
            function formatBR(v) { return 'R$ ' + v.toLocaleString('pt-BR'); }

            function recalc() {
                const s = toDateFromInput(startEl.value);
                const e = toDateFromInput(endEl.value);
                if (!s || !e || e <= s) {
                    daysEl.textContent = '0';
                    subEl.textContent = formatBR(0);
                    insEl.textContent = formatBR(0);
                    totEl.textContent = formatBR(0);
                    return;
                }
                const days = daysBetween(s, e);
                const subtotal = days * pricePerDay;
                const insurance = Math.round(subtotal * 0.05);
                const total = subtotal + insurance;
                daysEl.textContent = days;
                subEl.textContent = formatBR(subtotal);
                insEl.textContent = formatBR(insurance);
                totEl.textContent = formatBR(total);
            }

            function toInputFormat(d) {
                const yyyy = d.getUTCFullYear();
                const mm = String(d.getUTCMonth() + 1).padStart(2, '0');
                const dd = String(d.getUTCDate()).padStart(2, '0');
                return `${yyyy}-${mm}-${dd}`;
            }

            (function setDefaults() {
                const today = new Date();
                const utcToday = new Date(Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()));
                const utcTomorrow = new Date(utcToday.getTime() + 24 * 60 * 60 * 1000);
                if (startEl && !startEl.value) startEl.value = toInputFormat(utcToday);
                if (endEl && !endEl.value) endEl.value = toInputFormat(utcTomorrow);
                recalc();
            })();

            if (startEl) startEl.addEventListener('change', recalc);
            if (endEl) endEl.addEventListener('change', recalc);

            function showModal(msg) {
                if (modalMsg) modalMsg.textContent = msg;
                if (modalBackdrop) modalBackdrop.style.display = 'flex';
            }
            function hideModal() { if (modalBackdrop) modalBackdrop.style.display = 'none'; }
            if (modalOk) modalOk.addEventListener('click', hideModal);

            payBtn.addEventListener('click', function () {
                const name = (document.getElementById('name') || {}).value || '';
                const phone = (document.getElementById('phone') || {}).value || '';
                const s = toDateFromInput(startEl.value);
                const e = toDateFromInput(endEl.value);
                if (!name.trim() || !phone.trim()) { showModal('Preencha nome e telefone antes de pagar.'); return; }
                if (!s || !e || e <= s) { showModal('Selecione datas válidas (retorno após início).'); return; }
                showModal('Pagamento simulado com sucesso. Em breve entraremos em contato.');
            });

            reserveBtn.addEventListener('click', function () {
                const name = (document.getElementById('name') || {}).value || '';
                const phone = (document.getElementById('phone') || {}).value || '';
                if (!name.trim() || !phone.trim()) { showModal('Preencha nome e telefone antes de reservar.'); return; }
                showModal('Reserva registrada. Compareça à loja para finalizar o pagamento.');
            });

            // descrição expansível (preview + full)
            const descPreview = document.getElementById('descPreview');
            const descFull = document.getElementById('descFull');
            const toggleBtn = document.getElementById('toggleDesc');
            let expanded = false;
            toggleBtn.addEventListener('click', () => {
                expanded = !expanded;
                if (expanded) {
                    descFull.style.display = 'block';
                    toggleBtn.textContent = 'Ver menos';
                } else {
                    descFull.style.display = 'none';
                    toggleBtn.textContent = 'Ver mais';
                    // scroll to preview to keep UX ok on mobile
                    descPreview.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        })();
    </script>
</body>

</html>